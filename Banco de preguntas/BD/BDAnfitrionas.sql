--CREAMOS LA BASE DE DATOS
CREATE DATABASE BDAnfitrionas
GO

--ACTIVAMOS LA BASE DE DATOS
USE BDAnfitrionas
GO

--CREAMOS LAS TABLAS

CREATE TABLE AGENCIA (
       COD_AGEN             char(6) NOT NULL PRIMARY KEY,
       NOM_AGEN             varchar(30) NOT NULL,
       DIRECC_AGEN          varchar(60) NOT NULL,
       TELEF_AGEN           char(7) NOT NULL,
       REPRESENTANTE_AGEN   varchar(50) NOT NULL
)
GO

CREATE TABLE EVENTO (
       COD_EVEN             char(6) NOT NULL PRIMARY KEY,
       DESC_EVEN            varchar(60) NOT NULL,
       FECHPROG_EVEN        datetime NOT NULL,
       EST_EVEN             char(1) NOT NULL,
       COD_AGEN             char(6) NOT NULL REFERENCES AGENCIA
)
GO


CREATE TABLE TIPOANFITRIONA (
       COD_TIPO             char(6) NOT NULL PRIMARY KEY,
       DESC_TIPO            varchar(50) NOT NULL
)
GO


CREATE TABLE ANFITRIONA (
       COD_ANF              char(6) NOT NULL PRIMARY KEY,
       NOM_ANF              varchar(25) NOT NULL,
       APEPATER_ANF         varchar(25) NOT NULL,
       APEMATER_ANF         varchar(25) NOT NULL,
       FECHNAC_ANF          datetime NOT NULL,
       TALLA_ANF            decimal(3,2) NULL,
       EMAIL_ANF            varchar(30) NOT NULL,
       CEL_ANF              char(8) NOT NULL,
       TEL_ANF              char(7) NOT NULL,
       COD_TIPO             char(6) NULL REFERENCES TIPOANFITRIONA,
)
GO


CREATE TABLE DETALLEEVENTO (
       COD_EVEN             char(6) NOT NULL REFERENCES EVENTO,
       COD_ANF              char(6) NOT NULL REFERENCES ANFITRIONA,
PRIMARY KEY(COD_EVEN, COD_ANF)
)
GO


/* 
INGRESAMOS DATOS A LAS TABLAS 
*/

SET LANGUAGE ESPAÑOL

--TABLA AGENCIA
INSERT INTO AGENCIA VALUES('AGE001','LIMA TOP MODELS','AV. SALAVERRY 2255','4192900','JAMES ALVIS')
INSERT INTO AGENCIA VALUES('AGE002','CHICAS DE IMPACTO','AV. BENAVIDES 2255','4192901','PABLO NORIEGA')
INSERT INTO AGENCIA VALUES('AGE003','LIMA TEENAGERS','AV. AREQUIPA 2255','4192902','JORGE AGUILAR')
INSERT INTO AGENCIA VALUES('AGE004','CHICAS FASHION','AV. BRASIL 2255','4192903','LIDIA SANCHEZ')
INSERT INTO AGENCIA VALUES('AGE005','PERUANISIMAS','AV. PERU 2255','4192904','KARIM MORENO')


--TABLA EVENTOS
INSERT INTO EVENTO VALUES('EVE001','DESFILE EN LARCOMAR','09/06/2013','P','AGE001')
INSERT INTO EVENTO VALUES('EVE002','DESFILE EN EL JOCKEY PLAZA','11/06/2013','P','AGE001')
INSERT INTO EVENTO VALUES('EVE003','DESFILE EN EL MEGAPLAZA','13/06/2013','P','AGE001')
INSERT INTO EVENTO VALUES('EVE004','DESFILE EN LA MURALLA','15/06/2013','P','AGE002')
INSERT INTO EVENTO VALUES('EVE005','DESFILE EN LA PLAZA DE ARMAS','17/06/2013','P','AGE002')
INSERT INTO EVENTO VALUES('EVE006','DESFILE EN EL CIRCULO MILITAR','19/06/2013','P','AGE003')
INSERT INTO EVENTO VALUES('EVE007','DESFILE EN EL ABTAO FASHION','21/06/2013','P','AGE003')

--TABLA TIPOANFITRIONA
INSERT INTO TIPOANFITRIONA VALUES('TIP001','ANFITRIONAS DE PASARELA')
INSERT INTO TIPOANFITRIONA VALUES('TIP002','ANFITRIONAS DE EVENTOS DEPORTIVOS')
INSERT INTO TIPOANFITRIONA VALUES('TIP003','ANFITRIONAS PARA TODO TIPO DE EVENTOS')

--TABLA ANFITRIONAS
INSERT INTO ANFITRIONA VALUES('ANF001','MARIA JULIA','RIVASPLATA','DIAZ','07/07/1983',1.79,'MAJU@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF002','VIVIANA','RIVASPLATA','DIAZ','08/07/1984',1.79,'VIVI@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF003','ANGIE','JIBAJA','DIAZ','09/07/1985',1.72,'ANGIE@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF004','ANDREA','MONTENEGRO','DIAZ','10/07/1983',1.75,'ANDREA@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF005','MARINA','MORA','DIAZ','11/07/1990',1.80,'MARINA@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF006','MARIELLA','ZANETTI','DIAZ','12/07/1990',1.76,'MARIELLA@YAHOO.ES','99887766','4123456','TIP001',null)
INSERT INTO ANFITRIONA VALUES('ANF007','TULA','RODRÍGUEZ','DIAZ','13/07/1993',1.70,'TULA@YAHOO.ES','99887766','4123456','TIP001',null)


/* COMPROBAMOS EL INSERT */
SELECT * FROM AGENCIA
SELECT * FROM EVENTO
SELECT * FROM TIPOANFITRIONA
SELECT * FROM ANFITRIONA

